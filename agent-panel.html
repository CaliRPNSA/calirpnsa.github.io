<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NSA Agent Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <style>
        html,
        body {
            max-width: 100%;
            overflow-x: hidden;
        }

        ::-webkit-scrollbar {
            width: 20px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>

<body>
    <div class="position-absolute top-50 start-50 translate-middle" id="spinner">
        <div class="spinner-border text-secondary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
    <div style="visibility:hidden;" id="content">
        <nav class="navbar fixed-top navbar-dark bg-dark shadow-sm">
            <div class="container-fluid">
                <a class="navbar-brand">
                    <img class="d-inline-block me-1" src="assets/NSA-logo.svg" width=48>
                    NSA Agent Portal
                </a>
                <div>
                    <img id="navbar-logo" class="me-1" width="48">
                    <span id="navbar-greeting" class="navbar-text"></span>
                </div>
            </div>
        </nav>
        <!--duplicate to fix the fixed navbar-->
        <nav class="navbar navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand">
                    <img class="d-inline-block" src="assets/NSA-logo.svg" width=48>
                </a>
            </div>
        </nav>
        <div class="row d-grid gap-3 d-flex m-5" style="width: 100%;">
            <div class="card border border-0 shadow-lg p-3 mb-5 bg-body rounded" style="width:30%;">
                <a href="https://calirpnsa.tech"><img src="https://i.ibb.co/1nDVcLy/image.png"
                        class="card-img-top mt-2 shadow-sm p-3 mb-5 bg-body rounded border-top"></a>
                <div class="card-body">
                    <h5 class="card-title">NSA Website</h5>
                    <h6 class="card-subtitle mb-2"><code>ACCESS LEVEL: U</code></h6>
                    <p class="card-text">The place where you found this link, hub for most of the NSA's documents.</p>
                    <a href="https://calirpnsa.tech" class="btn btn-light border border-secondary rounded-1">Click to go
                        <img src="assets/share.svg" width=16></a>
                </div>
            </div>
            <div class="card border border-0 shadow-lg p-3 mb-5 bg-body rounded" style="width:30%;">
                <a href="https://docs.google.com/document/d/1SuoUU_o0LfHsDefVkfkSqsx1lKt_oMjvTtYmrLRczvI/edit?usp=sharing"><img src="https://i.ibb.co/T0dShkL/image.png" class="card-img-top mt-2 shadow-sm p-3 mb-5 bg-body rounded border-top"></a>
                <div class="card-body">
                    <h5 class="card-title">Standard Operating Procedures</h5>
                    <h6 class="card-subtitle mb-2"><code>ACCESS LEVEL: TS//SCI</code></h6>
                    <p class="card-text">A document that conatins the NSA's standard operating procedures in its entirety.</p>
                    <a href="https://docs.google.com/document/d/1SuoUU_o0LfHsDefVkfkSqsx1lKt_oMjvTtYmrLRczvI/edit?usp=sharing" class="btn btn-light border border-secondary rounded-1">Click to go <img
                            src="assets/share.svg" width=16></a>
                </div>
            </div>
            <div class="card border border-0 shadow-lg p-3 mb-5 bg-body rounded" style="width:30%;">
                <a href="https://docs.google.com/spreadsheets/d/1ygoyyF7cpFKua73Y550MW--1alAwfKTKC9N51EQayrU/edit#gid=1915396304"><img src="https://i.ibb.co/sK1Bswd/image.png" class="card-img-top mt-2 shadow-sm p-3 mb-5 bg-body rounded border-top"></a>
                <div class="card-body">
                    <h5 class="card-title">Information Database</h5>
                    <h6 class="card-subtitle mb-2"><code>ACCESS LEVEL: TS//SCI</code></h6>
                    <p class="card-text">A roster conatining (a) NSA personnel info; (b) uniform guidelines; (c) vehicle structure; and (d) subdivion rosters</p>
                    <a href="https://docs.google.com/spreadsheets/d/1ygoyyF7cpFKua73Y550MW--1alAwfKTKC9N51EQayrU/edit#gid=1915396304" class="btn btn-light border border-secondary rounded-1">Click to go <img
                            src="assets/share.svg" width=16></a>
                </div>
            </div>
            <div class="card border border-0 shadow-lg p-3 mb-5 bg-body rounded" style="width:30%;">
                <a href="https://docs.google.com/document/d/134JYsee_hB1UIRof11snKXIznk8oQkWuxg1wZn5TR98/edit?usp=sharing"><img src="https://i.ibb.co/kgXDryc/image.png" class="card-img-top mt-2 shadow-sm p-3 mb-5 bg-body rounded border-top"></a>
                <div class="card-body">
                    <h5 class="card-title">Facility Security Handbook</h5>
                    <h6 class="card-subtitle mb-2"><code>ACCESS LEVEL: TS//SCI</code></h6>
                    <p class="card-text">A guide for agents on how to conduct facility security. Goes through responsibilities, uniforms, and procedures.</p>
                    <a href="https://docs.google.com/document/d/134JYsee_hB1UIRof11snKXIznk8oQkWuxg1wZn5TR98/edit?usp=sharing" class="btn btn-light border border-secondary rounded-1">Click to go <img
                            src="assets/share.svg" width=16></a>
                </div>
            </div>
            <div class="card border border-0 shadow-lg p-3 mb-5 bg-body rounded" style="width:30%;">
                <a href="https://docs.google.com/presentation/d/16iMXXoUt9064rxRstyvg7aKpzTrUKTh0HSW8zJMrpf8/edit?usp=sharing"><img src="https://i.ibb.co/qDj02SK/image.png" class="card-img-top mt-2 shadow-sm p-3 mb-5 bg-body rounded border-top"></a>
                <div class="card-body">
                    <h5 class="card-title">Classroom Training</h5>
                    <h6 class="card-subtitle mb-2"><code>ACCESS LEVEL: TS//SCI</code></h6>
                    <p class="card-text">Reference this if you need a refresher on anything. Goes through anything and everything you could possibly need.</p>
                    <a href="https://docs.google.com/presentation/d/16iMXXoUt9064rxRstyvg7aKpzTrUKTh0HSW8zJMrpf8/edit?usp=sharing" class="btn btn-light border border-secondary rounded-1">Click to go <img
                            src="assets/share.svg" width=16></a>
                </div>
            </div>
            <div class="card border border-0 shadow-lg p-3 mb-5 bg-body rounded" style="width:30%;">
                <a href="https://forms.gle/jL3XLF7ypDXCVRQH7"><img src="https://i.ibb.co/kKJkvv6/image.png" class="card-img-top mt-2 shadow-sm p-3 mb-5 bg-body rounded border-top"></a>
                <div class="card-body">
                    <h5 class="card-title">Training Assistant Application</h5>
                    <h6 class="card-subtitle mb-2"><code>ACCESS LEVEL: TS//SCI</code></h6>
                    <p class="card-text">A form to fill out if you are interested in becoming a member of the academy staff.</p>
                    <a href="https://forms.gle/jL3XLF7ypDXCVRQH7" class="btn btn-light border border-secondary rounded-1">Click to go <img
                            src="assets/share.svg" width=16></a>
                </div>
            </div>
        </div>
    </div>
    <script>
        function loadContent() {
            document.getElementById("spinner").remove()
            document.getElementById("content").style.visibility = "visible";
        }
        document.addEventListener('readystatechange', (event) => {
            if (event.target.readyState === "interactive") {
                hash = window.location.hash.substr(1);
                if (!hash) {
                    location.href = "..";
                }
                hash_values = hash.split("&");
                token_type = hash_values[0].substr(11)
                access_token = hash_values[1].substr(13)
                if (!token_type || !access_token) {
                    location.href = "..";
                }
                fetch('https://discord.com/api/users/@me', {
                    method: 'GET',
                    headers: {
                        'Authorization': `${token_type} ${access_token}`
                    }
                })
                    .then(response => {
                        if (response.status == 200) {
                            return response.json();
                        } else {
                            location.href = "..";
                        }
                    })
                    .then(data => {
                        avatar_link = `https://cdn.discordapp.com/avatars/${data.id}/${data.avatar}.webp?size=80`;
                        document.getElementById('navbar-logo').src = avatar_link;
                        document.getElementById('navbar-greeting').innerText = `Welcome, ${data.username}#${data.discriminator}!`;
                    })
                setTimeout(loadContent, 1000);
            }
        });
    </script>
</body>

</html>